import{b as v}from"../chunks/DsC3Z8uF.js";import{e as $}from"../chunks/DNSHY1Ls.js";import{n as b}from"../chunks/2eRzDqfg.js";import{p as w,c as k,i as y,a as f,t as x}from"../chunks/BpsEgJ8l.js";import{a4 as C,f as M,a8 as P}from"../chunks/CnLMk8uB.js";import{M as j}from"../chunks/D8TgEdmB.js";import{C as L}from"../chunks/CFD5_9K2.js";async function O({params:o,fetch:n}){try{const t=`${v}/notes/${o.slug}/index.md`,a=await n(t);if(!a.ok)throw new Error(`Could not fetch ${o.slug}`);const s=await a.text(),c=b.find(m=>m.slug===o.slug);return{content:s,meta:c}}catch(t){throw console.error("加载文章时出错:",t),$(404,`找不到 ${o.slug} 文章`)}}const A=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"}));var S=x("<p>文章加载失败</p>");function B(o,n){var i,l,p;C(n,!0);let t=w(n,"data",7);function a(e,r){return e.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(d,g,_)=>{const h=_.replace(/^\.?\/?res\//,"");return`![${g}](/notes/${r}/res/${h})`})}(i=t())!=null&&i.content&&((p=(l=t())==null?void 0:l.meta)!=null&&p.name)&&(t().content=a(t().content,t().meta.name));var s=k(),c=M(s);{var m=e=>{L(e,{className:"mt-16 lg:mt-32",children:(r,d)=>{j(r,{get content(){return t().content}})},$$slots:{default:!0}})},u=e=>{var r=S();f(e,r)};y(c,e=>{t().meta?e(m):e(u,!1)})}f(o,s),P()}export{B as component,A as universal};
