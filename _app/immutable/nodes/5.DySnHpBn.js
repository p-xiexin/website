import{b as M}from"../chunks/BugPiYsw.js";import{e as E}from"../chunks/DNSHY1Ls.js";import{p as L,t as w,i as j,a as g,e as R,c as B}from"../chunks/C6KxToXk.js";import{a5 as S,ad as F,e as c,s as v,r as d,t as G,M as I,a9 as O,f as $,$ as T}from"../chunks/3iu8ekn-.js";import{s as C,h as A}from"../chunks/Cmq34bxz.js";import{a as H,s as q}from"../chunks/CXJeWBdf.js";import{i as J}from"../chunks/CaoHmhfT.js";import{g as K}from"../chunks/D7XL0zR8.js";import{C as N}from"../chunks/XX90532K.js";import{f as Q}from"../chunks/CuH92FPP.js";import{M as U}from"../chunks/CT4Uxwwu.js";async function V({params:m,fetch:n}){try{const i=(await(await n(`${M}/posts/postLists.json`)).json()).find(u=>u.slug===m.slug),f=`${M}/posts/${i==null?void 0:i.title}.md`,h=await n(f);if(!h.ok)throw new Error(`Could not fetch ${m.slug}`);return{content:await h.text(),meta:i}}catch(e){throw console.error("加载文章时出错:",e),E(404,`找不到 ${m.slug} 文章`)}}const gt=Object.freeze(Object.defineProperty({__proto__:null,load:V},Symbol.toStringTag,{value:"Module"}));var W=w('<button type="button" aria-label="Go back to blogs" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20"><svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),X=w('<div class="xl:relative"><div class="mx-auto max-w-4xl"><!> <article><header class="flex flex-col"><time class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span> <span class="ml-3"> </span> <span class="mx-2">·</span> <span> </span></time></header> <div class="mt-8 prose dark:prose-invert max-w-none"><!></div></article></div></div>');function Y(m,n){S(n,!1);let e=L(n,"blog",8);const _=F("previousPathname");function i(){window.history.back()}J(),N(m,{class:"mt-16 lg:mt-32",children:(f,h)=>{var p=X(),u=c(p),x=c(u);{var y=k=>{var P=W();R("click",P,i),g(k,P)};j(x,k=>{_&&k(y)})}var b=v(x,2),t=c(b),r=c(t),l=v(c(r),2),o=c(l,!0);d(l);var a=v(l,4),s=c(a,!0);d(a),d(r),d(t);var z=v(t,2),D=c(z);H(D,n,"default",{}),d(z),d(b),d(u),d(p),G(k=>{q(r,"datetime",e().date),C(o,k),C(s,e().author)},[()=>Q(e().date)],I),g(f,p)},$$slots:{default:!0}}),O()}var Z=w('<meta property="og:type" content="article"> <meta property="og:title">',1),tt=w('<button type="button" aria-label="Go back to blogs" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 svelte-5ksdb9"><svg class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400 svelte-5ksdb9" viewBox="0 0 16 16" fill="none" aria-hidden="true"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <!>',1),et=w("<p>文章加载失败</p>");function ut(m,n){var b;S(n,!0);let e=L(n,"data",7);function _(t){const r=/^---\r?\n[\s\S]*?\r?\n---\r?\n?/;return t.replace(r,"")}const i=_(e().content);function f(){window.history.length>1?window.history.back():K("/blog")}function h(t){const r=`${M}/posts/res`;return t=t.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(l,o,a)=>{const s=a.replace(/^\.?\/?res\//,"");return`![${o}](${r}/${s})`}),t=t.replace(/<img\s+([^>]*?)src=["']\.?\/?res\/([^"']+)["']([^>]*?)>/g,(l,o,a,s)=>`<img ${o}src="${r}/${a}"${s}>`),t}(b=e())!=null&&b.content&&(e().content=h(e().content));var p=B();A(t=>{var r=B(),l=$(r);{var o=a=>{var s=Z(),z=v($(s),2);G(()=>{T.title=e().meta.title,q(z,"content",e().meta.title)}),g(a,s)};j(l,a=>{e().meta&&a(o)})}g(t,r)});var u=$(p);{var x=t=>{Y(t,{get blog(){return e().meta},children:(r,l)=>{var o=tt(),a=$(o),s=v(a,2);U(s,{content:i}),R("click",a,f),g(r,o)},$$slots:{default:!0}})},y=t=>{var r=et();g(t,r)};j(u,t=>{e().meta?t(x):t(y,!1)})}g(m,p),O()}export{ut as component,gt as universal};
