import{b as y}from"../chunks/m0xyKVKf.js";import{e as E,M as F}from"../chunks/Czc55B7u.js";import{p as L,t as w,i as P,a as f,e as G,c as M}from"../chunks/BDn-tyun.js";import{a6 as R,ad as I,c,s as b,r as d,t as S,N,aa as O,aj as T,f as z,$ as A}from"../chunks/CdabQ3V7.js";import{s as B,h as H}from"../chunks/DZJ0-oot.js";import{b as J,s as q}from"../chunks/C_mLuD7F.js";import{i as K}from"../chunks/HJkB6Z_v.js";import"../chunks/C2IbA2K8.js";import{C as Q}from"../chunks/6Wzw6qDz.js";import{f as U}from"../chunks/CuH92FPP.js";async function V({params:p,fetch:r}){try{const i=(await(await r(`${y}/posts/postLists.json`)).json()).find(v=>v.slug===p.slug),g=`${y}/posts/${i==null?void 0:i.title}.md`,m=await r(g);if(!m.ok)throw new Error(`Could not fetch ${p.slug}`);return{content:await m.text(),meta:i}}catch(e){throw console.error("加载文章时出错:",e),E(404,`找不到 ${p.slug} 文章`)}}const pt=Object.freeze(Object.defineProperty({__proto__:null,load:V},Symbol.toStringTag,{value:"Module"}));var W=w('<button type="button" aria-label="Go back to blogs" style="cursor: pointer;" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20"><svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),X=w('<div class="xl:relative"><div class="mx-auto max-w-4xl"><!> <article><header class="flex flex-col"><time class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span> <span class="ml-3"> </span> <span class="mx-2">·</span> <span> </span></time></header> <div class="mt-8 prose dark:prose-invert max-w-none"><!></div></article></div></div>');function Y(p,r){R(r,!1);let e=L(r,"blog",8);const k=I("previousPathname");function i(){window.history.back()}K(),Q(p,{class:"mt-16 lg:mt-32",children:(g,m)=>{var u=X(),v=c(u),_=c(v);{var x=h=>{var C=W();G("click",C,i),f(h,C)};P(_,h=>{k&&h(x)})}var t=b(_,2),a=c(t),l=c(a),o=b(c(l),2),s=c(o,!0);d(o);var n=b(o,4),$=c(n,!0);d(n),d(l),d(a);var j=b(a,2),D=c(j);J(D,r,"default",{}),d(j),d(t),d(v),d(u),S(h=>{q(l,"datetime",e().date),B(s,h),B($,e().author)},[()=>U(e().date)],N),f(g,u)},$$slots:{default:!0}}),O()}var Z=w('<meta property="og:type" content="article"> <meta property="og:title">',1),tt=w("<p>文章加载失败</p>");function mt(p,r){var x;R(r,!0);let e=L(r,"data",7);T("previousPathname","/blog");function k(t){const a=/^---\r?\n[\s\S]*?\r?\n---\r?\n?/;return t.replace(a,"")}function i(t){const a=`${y}/posts/res`;return t=t.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(l,o,s)=>{const n=s.replace(/^\.?\/?res\//,"");return`![${o}](${a}/${n})`}),t=t.replace(/<img\s+([^>]*?)src=["']\.?\/?res\/([^"']+)["']([^>]*?)>/g,(l,o,s,n)=>`<img ${o}src="${a}/${s}"${n}>`),t}(x=e())!=null&&x.content&&(e().content=i(e().content));const g=k(e().content);var m=M();H(t=>{var a=M(),l=z(a);{var o=s=>{var n=Z(),$=b(z(n),2);S(()=>{A.title=e().meta.title,q($,"content",e().meta.title)}),f(s,n)};P(l,s=>{e().meta&&s(o)})}f(t,a)});var u=z(m);{var v=t=>{Y(t,{get blog(){return e().meta},children:(a,l)=>{F(a,{content:g})},$$slots:{default:!0}})},_=t=>{var a=tt();f(t,a)};P(u,t=>{e().meta?t(v):t(_,!1)})}f(p,m),O()}export{mt as component,pt as universal};
