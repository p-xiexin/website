import{b as y}from"../chunks/DUebcQAu.js";import{e as E}from"../chunks/DNSHY1Ls.js";import{p as B,t as w,i as P,a as f,e as F,c as M}from"../chunks/BY1S_LDI.js";import{a4 as R,ab as G,c,s as b,r as d,t as S,L as I,a8 as O,aj as T,f as z,$ as A}from"../chunks/9qshXjgS.js";import{s as L,h as H}from"../chunks/CV0qYolR.js";import{b as J,s as q}from"../chunks/Cpw64t9P.js";import{i as K}from"../chunks/xEOhprie.js";import"../chunks/B2bK6kzq.js";import{C as N}from"../chunks/CmQp5bML.js";import{f as Q}from"../chunks/CuH92FPP.js";import{M as U}from"../chunks/ClKk4Djc.js";async function V({params:m,fetch:a}){try{const i=(await(await a(`${y}/posts/postLists.json`)).json()).find(v=>v.slug===m.slug),g=`${y}/posts/${i==null?void 0:i.title}.md`,p=await a(g);if(!p.ok)throw new Error(`Could not fetch ${m.slug}`);return{content:await p.text(),meta:i}}catch(e){throw console.error("加载文章时出错:",e),E(404,`找不到 ${m.slug} 文章`)}}const pt=Object.freeze(Object.defineProperty({__proto__:null,load:V},Symbol.toStringTag,{value:"Module"}));var W=w('<button type="button" aria-label="Go back to blogs" style="cursor: pointer;" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20"><svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),X=w('<div class="xl:relative"><div class="mx-auto max-w-4xl"><!> <article><header class="flex flex-col"><time class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span> <span class="ml-3"> </span> <span class="mx-2">·</span> <span> </span></time></header> <div class="mt-8 prose dark:prose-invert max-w-none"><!></div></article></div></div>');function Y(m,a){R(a,!1);let e=B(a,"blog",8);const k=G("previousPathname");function i(){window.history.back()}K(),N(m,{class:"mt-16 lg:mt-32",children:(g,p)=>{var u=X(),v=c(u),_=c(v);{var x=h=>{var C=W();F("click",C,i),f(h,C)};P(_,h=>{k&&h(x)})}var t=b(_,2),r=c(t),l=c(r),o=b(c(l),2),s=c(o,!0);d(o);var n=b(o,4),$=c(n,!0);d(n),d(l),d(r);var j=b(r,2),D=c(j);J(D,a,"default",{}),d(j),d(t),d(v),d(u),S(h=>{q(l,"datetime",e().date),L(s,h),L($,e().author)},[()=>Q(e().date)],I),f(g,u)},$$slots:{default:!0}}),O()}var Z=w('<meta property="og:type" content="article"> <meta property="og:title">',1),tt=w("<p>文章加载失败</p>");function ut(m,a){var x;R(a,!0);let e=B(a,"data",7);T("previousPathname","/blog");function k(t){const r=/^---\r?\n[\s\S]*?\r?\n---\r?\n?/;return t.replace(r,"")}function i(t){const r=`${y}/posts/res`;return t=t.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(l,o,s)=>{const n=s.replace(/^\.?\/?res\//,"");return`![${o}](${r}/${n})`}),t=t.replace(/<img\s+([^>]*?)src=["']\.?\/?res\/([^"']+)["']([^>]*?)>/g,(l,o,s,n)=>`<img ${o}src="${r}/${s}"${n}>`),t}(x=e())!=null&&x.content&&(e().content=i(e().content));const g=k(e().content);var p=M();H(t=>{var r=M(),l=z(r);{var o=s=>{var n=Z(),$=b(z(n),2);S(()=>{A.title=e().meta.title,q($,"content",e().meta.title)}),f(s,n)};P(l,s=>{e().meta&&s(o)})}f(t,r)});var u=z(p);{var v=t=>{Y(t,{get blog(){return e().meta},children:(r,l)=>{U(r,{content:g})},$$slots:{default:!0}})},_=t=>{var r=tt();f(t,r)};P(u,t=>{e().meta?t(v):t(_,!1)})}f(m,p),O()}export{ut as component,pt as universal};
