import{b as h}from"../chunks/B3pWoj6v.js";import{e as v,M as w}from"../chunks/EYm1pbl3.js";import"../chunks/DbiuFtNX.js";import"../chunks/BS7C8u-H.js";import{n as k}from"../chunks/B--g4MY9.js";import{p as y,c as P,i as x,b as $,t as C}from"../chunks/ScjmPDhD.js";import{p as M,f as j,b as L}from"../chunks/BCuXwNj5.js";import{C as O}from"../chunks/ClR1bYj5.js";async function S({params:r,fetch:a}){try{const e=`${h}/notes/${r.slug}/index.md`,s=await a(e);if(!s.ok)throw new Error(`Could not fetch ${r.slug}`);const n=await s.text(),c=k.find(m=>m.slug===r.slug);return{content:n,meta:c}}catch(e){throw console.error("加载文章时出错:",e),v(404,`找不到 ${r.slug} 文章`)}}const D=Object.freeze(Object.defineProperty({__proto__:null,load:S},Symbol.toStringTag,{value:"Module"}));var z=C("<p>文章加载失败</p>");function F(r,a){var u,g,d;M(a,!0);let e=y(a,"data",7);function s(t,o){const i=`${h}/notes/${o}/res`;return t=t.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(b,p,l)=>{const f=l.replace(/^\.?\/?res\//,"");return`![${p}](${i}/${f})`}),t=t.replace(/<img\s+([^>]*?)src=["']\.?\/?res\/([^"']+)["']([^>]*?)>/g,(b,p,l,f)=>`<img ${p}src="${i}/${l}"${f}>`),t}(u=e())!=null&&u.content&&((d=(g=e())==null?void 0:g.meta)!=null&&d.name)&&(e().content=s(e().content,e().meta.name));var n=P(),c=j(n);{var m=t=>{O(t,{className:"mt-16 lg:mt-32",children:(o,i)=>{w(o,{get content(){return e().content}})},$$slots:{default:!0}})},_=t=>{var o=z();$(t,o)};x(c,t=>{e().meta?t(m):t(_,!1)})}$(r,n),L()}export{F as component,D as universal};
