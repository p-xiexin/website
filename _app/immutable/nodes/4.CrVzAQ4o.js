import{b as tt}from"../chunks/B3pWoj6v.js";import{l as ze,s as Ae,c as fe,b as f,u as Et,f as It,t as A,i as N,g as se,a as oe}from"../chunks/ScjmPDhD.js";import{f as ce,p as Mt,A as Se,b as Nt,d as z,g as e,a7 as S,a6 as ne,c as r,s,r as t,t as w}from"../chunks/BCuXwNj5.js";import{s as m}from"../chunks/B80iz11f.js";import{e as me,i as Je,c as jt,$ as Ft}from"../chunks/CWU1-wLY.js";import{s as Ee,r as Ot,b as ie,e as te,f as le,c as de}from"../chunks/C-r6bpSB.js";import{b as Rt}from"../chunks/CXaCMPfh.js";import{N as Bt,f as We}from"../chunks/nsmBxBz4.js";import{g as Tt}from"../chunks/B--g4MY9.js";import{S as Ut}from"../chunks/DtaTpsnL.js";import{C as Ye,N as Vt}from"../chunks/CPnLWQ0j.js";import{L as Dt,X as Gt,a as Ht,p as Kt}from"../chunks/BeOHiXRC.js";import{g as Ce}from"../chunks/BYxc2Ksz.js";import{u as Qt}from"../chunks/DyJ0m5gB.js";import{I as Ie}from"../chunks/CjsJ53PR.js";import{C as Xt}from"../chunks/CN6OKtl6.js";function qt(p,o){const u=ze(o,["children","$$slots","$$events","$$legacy"]);Ie(p,Ae({name:"chevron-left"},()=>u,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(V,k)=>{var E=fe(),B=ce(E);Ee(B,o,"default",{}),f(V,E)},$$slots:{default:!0}}))}function Jt(p,o){const u=ze(o,["children","$$slots","$$events","$$legacy"]);Ie(p,Ae({name:"funnel"},()=>u,{iconNode:[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]],children:(V,k)=>{var E=fe(),B=ce(E);Ee(B,o,"default",{}),f(V,E)},$$slots:{default:!0}}))}function Ze(p,o){const u=ze(o,["children","$$slots","$$events","$$legacy"]);Ie(p,Ae({name:"search"},()=>u,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]],children:(V,k)=>{var E=fe(),B=ce(E);Ee(B,o,"default",{}),f(V,E)},$$slots:{default:!0}}))}async function Wt({fetch:p}){return{posts:await(await p(`${tt}/posts/postLists.json`)).json()}}const Or=Object.freeze(Object.defineProperty({__proto__:null,load:Wt},Symbol.toStringTag,{value:"Module"}));function et(p,o,u,q,V){z(o,""),z(u,""),z(q,!1);const k=new URL(V().url);k.searchParams.delete("search"),k.searchParams.delete("category"),k.searchParams.delete("page"),Ce(k.toString())}function Yt(p,o,u){z(o,""),u()}function Zt(p,o){const u=p.target;z(o,u.value,!0)}function er(p,o){p.key==="Enter"&&o()}var tr=A('<div class="flex items-center gap-3 rounded-xl border border-dashed border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800 shadow-sm dark:border-amber-500/40 dark:bg-amber-500/10 dark:text-amber-100"><!> <span> </span></div>'),rr=A('<button class="absolute inset-y-0 right-0 pr-3 flex items-center"><!></button>'),ar=(p,o)=>z(o,!e(o)),sr=(p,o)=>o(""),or=(p,o,u)=>o(String(e(u))),nr=A("<button> </button>"),ir=A('<div class="absolute right-0 mt-2 w-full sm:w-48 bg-background border border-input rounded-md shadow-lg z-50 max-h-64 overflow-y-auto dark:bg-background dark:border-input"><button> </button> <!></div>'),lr=A('<div class="flex flex-col gap-2 text-sm text-muted-foreground sm:flex-row sm:items-center sm:justify-between"><div class="flex items-center gap-2"><div><!> <!></div></div> <button class="text-primary hover:underline"> </button></div>'),dr=A('<div class="text-center py-12"><div class="mx-auto max-w-md"><!> <h3 class="mt-2 text-sm font-semibold text-foreground"> </h3> <p class="mt-1 text-sm text-muted-foreground"> <button class="text-primary hover:underline"> </button></p></div></div>'),cr=A('<span class="inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-800 ring-1 ring-amber-200 dark:bg-amber-500/10 dark:text-amber-100 dark:ring-amber-500/40"> </span>'),ur=A('<span class="inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-amber-800 ring-1 ring-amber-200 dark:bg-amber-500/10 dark:text-amber-100 dark:ring-amber-500/40"> </span>'),vr=A('<article class="md:grid md:grid-cols-4 md:items-baseline"><div class="group relative flex flex-col items-start md:col-span-3"><h2 class="text-base font-semibold tracking-tight"><div><div class="absolute -inset-x-4 -inset-y-6 z-0 scale-95 transition group-hover:scale-100 sm:-inset-x-6 sm:rounded-2xl group-hover:bg-muted/50"></div> <a><span class="absolute -inset-x-4 -inset-y-6 z-20 sm:-inset-x-6 sm:rounded-2xl"></span> <span class="relative z-10"> </span></a></div></h2> <div class="relative z-10 order-first mb-2 flex flex-col items-start gap-1 pl-3.5 md:hidden"><span class="absolute inset-y-0 left-0 flex items-center" aria-hidden="true"><span class="h-4 w-0.5 rounded-full bg-muted-foreground/30"></span></span> <time class="text-sm text-muted-foreground"> </time> <!></div> <p class="relative z-10 mt-2 text-sm text-muted-foreground"> </p> <div aria-hidden="true" class="relative z-10 mt-2 flex items-center text-sm font-medium text-primary"> <!></div></div> <div class="relative z-10 order-first mt-1 hidden text-sm text-muted-foreground md:flex md:flex-col md:items-start md:gap-2"><time> </time> <!></div></article>'),mr=A('<div class="flex max-w-3xl flex-col space-y-8 md:space-y-16"></div>'),fr=(p,o,u)=>o(e(u)-1),pr=A('<span class="px-3 py-2 text-sm text-muted-foreground">...</span>'),_r=(p,o,u)=>o(Number(e(u))),gr=A("<button> </button>"),xr=(p,o,u)=>o(e(u)+1),br=A('<nav class="flex items-center justify-center space-x-2 mt-12 pt-8 border-t border-muted"><button><!> <span class="hidden sm:inline"> </span></button> <div class="flex items-center space-x-1"></div> <button><span class="hidden sm:inline"> </span> <!></button></nav>'),hr=A('<div class="mb-8"><div class="max-w-4xl mx-auto space-y-4"><!> <div class="flex flex-col sm:flex-row gap-4"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><!></div> <input type="text" class="block w-full pl-10 pr-10 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground placeholder:text-muted-foreground dark:bg-background dark:border-input dark:hover:bg-muted/70"> <!></div> <div class="relative category-dropdown"><button class="flex items-center cursor-pointer justify-between w-full sm:w-48 px-4 py-2 border border-input rounded-md bg-background text-foreground hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary dark:bg-background dark:border-input dark:hover:bg-muted/70"><div class="flex items-center"><!> <span class="truncate"> </span></div> <!></button> <!></div></div> <!></div></div> <div class="md:border-l md:border-zinc-100 md:pl-6 md:dark:border-zinc-700/40"><!> <!></div> <div class="mx-auto flex flex-col max-w-xl gap-6 lg:max-w-none my-4 py-8 border-t border-muted"><h2 class="flex flex-row items-center justify-start gap-2 text-xl font-semibold tracking-tight md:text-3xl opacity-90 mb-4"><!> </h2> <p class="text-base text-muted-foreground max-w-2xl mb-4"> </p> <ul role="list" class="grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 md:grid-cols-3 auto-rows-[1fr]"></ul></div>',1);function Rr(p,o){Mt(o,!0);const[u,q]=It(),V=()=>se(Ft,"$locale",u),k=()=>se(Kt,"$page",u),E=()=>se(Ht,"$authStore",u),B=()=>se(Qt,"$uiContent",u),C=()=>se(jt,"$t",u),pe=5,rt="zh",at=S(()=>V()??rt),st=S(()=>Tt(e(at)));let h=ne(""),_e=ne(!1),$=ne(""),Q=ne(!1);const T=S(()=>parseInt(k().url.searchParams.get("page")||"1",10)),Me=S(()=>k().url.searchParams.get("search")||""),Ne=S(()=>k().url.searchParams.get("category")||""),je=S(()=>E().isLoggedIn?o.data.posts:o.data.posts.filter(a=>a.published)),Fe=5,ot=4;let J=ne(Fe);const nt=S(()=>(()=>{const a=new Set;return e(je).forEach(c=>{c.categories&&c.categories.forEach(g=>a.add(g))}),Array.from(a).sort()})());Se(()=>{z(h,e(Me),!0),z($,e(Ne),!0),z(_e,e(Me).length>0||e(Ne).length>0,!0)});const Oe=S(()=>(()=>{let a=e(je);if(e($)&&(a=a.filter(c=>c.categories&&c.categories.includes(e($)))),e(h).trim()){const c=e(h).toLowerCase().trim();a=a.filter(g=>g.title.toLowerCase().includes(c)||g.description.toLowerCase().includes(c)||g.author.toLowerCase().includes(c)||g.categories&&g.categories.some(I=>I.toLowerCase().includes(c)))}return a})()),W=S(()=>e(Oe).length),O=S(()=>Math.ceil(e(W)/pe)),Re=S(()=>(e(T)-1)*pe),it=S(()=>e(Re)+pe),lt=S(()=>e(Oe).slice(e(Re),e(it)));function ge(){const a=new URL(k().url);e(h).trim()?a.searchParams.set("search",e(h).trim()):a.searchParams.delete("search"),e($)?a.searchParams.set("category",e($)):a.searchParams.delete("category"),a.searchParams.delete("page"),Ce(a.toString())}function dt(){ge()}function Be(a){z($,a,!0),z(Q,!1),ge()}function xe(a){const c=new URL(k().url);a===1?c.searchParams.delete("page"):c.searchParams.set("page",a.toString()),Ce(c.toString())}const ct=S(()=>(()=>{const a=[];if(e(O)<=e(J))for(let c=1;c<=e(O);c++)a.push(c);else{const c=Math.floor((e(J)-1)/2);let g=Math.max(1,e(T)-c),I=Math.min(e(O),e(T)+c);I-g+1<e(J)-1&&(g===1?I=Math.min(e(O),g+(e(J)-2)):I===e(O)&&(g=Math.max(1,I-(e(J)-2)))),g>1&&(a.push(1),g>2&&a.push("..."));for(let Y=g;Y<=I;Y++)a.push(Y);I<e(O)&&(I<e(O)-1&&a.push("..."),a.push(e(O)))}return a})());function Te(a){a.target.closest(".category-dropdown")||z(Q,!1)}Se(()=>{if(typeof window<"u"){const a=window.matchMedia("(max-width: 640px)"),c=()=>{z(J,a.matches?ot:Fe,!0)};return c(),a.addEventListener("change",c),()=>a.removeEventListener("change",c)}}),Se(()=>(document.addEventListener("click",Te),()=>{document.removeEventListener("click",Te)})),Ut(p,{get title(){return B().blogs.title},get intro(){return B().blogs.intro},children:(a,c)=>{var g=hr(),I=ce(g),Y=r(I),Ue=r(Y);{var ut=n=>{var i=tr(),d=r(i);Dt(d,{class:"h-4 w-4"});var v=s(d,2),b=r(v,!0);t(v),t(i),w(P=>m(b,P),[()=>C()("ui.previewLoginHint")]),f(n,i)};N(Ue,n=>{E().isLoggedIn||n(ut)})}var be=s(Ue,2),he=r(be),ye=r(he),vt=r(ye);Ze(vt,{class:"h-5 w-5 text-muted-foreground"}),t(ye);var Z=s(ye,2);Ot(Z),Z.__input=[Zt,h],Z.__keydown=[er,dt];var mt=s(Z,2);{var ft=n=>{var i=rr();i.__click=[Yt,h,ge];var d=r(i);Gt(d,{class:"h-5 w-5 text-muted-foreground hover:text-foreground transition-colors"}),t(i),w(v=>ie(i,"title",v),[()=>C()("ui.clearSearch")]),f(n,i)};N(mt,n=>{e(h)&&n(ft)})}t(he);var Ve=s(he,2),ue=r(Ve);ue.__click=[ar,Q];var we=r(ue),De=r(we);Jt(De,{class:"h-4 w-4 mr-2"});var Ge=s(De,2),pt=r(Ge,!0);t(Ge),t(we);var _t=s(we,2);const gt=S(()=>te("h-4 w-4 transition-transform",e(Q)&&"rotate-180"));Xt(_t,{get class(){return e(gt)}}),t(ue);var xt=s(ue,2);{var bt=n=>{var i=ir(),d=r(i);d.__click=[sr,Be];var v=r(d,!0);t(d);var b=s(d,2);me(b,17,()=>e(nt),Je,(P,x)=>{var _=nr();_.__click=[or,Be,x];var L=r(_,!0);t(_),w(U=>{de(_,1,U),m(L,e(x))},[()=>le(te("block w-full px-4 py-2 text-left hover:bg-muted transition-colors dark:hover:bg-muted/70",e($)===e(x)&&"bg-muted font-medium"))]),f(P,_)}),t(i),w((P,x)=>{de(d,1,P),m(v,x)},[()=>le(te("block w-full px-4 py-2 text-left hover:bg-muted transition-colors dark:hover:bg-muted/70",!e($)&&"bg-muted font-medium")),()=>C()("ui.allCategories")]),f(n,i)};N(xt,n=>{e(Q)&&n(bt)})}t(Ve),t(be);var ht=s(be,2);{var yt=n=>{var i=lr(),d=r(i),v=r(d),b=r(v);{var P=l=>{var y=oe("No posts found");f(l,y)},x=l=>{var y=oe();w(()=>m(y,`Found ${e(W)??""} post${e(W)===1?"":"s"}`)),f(l,y)};N(b,l=>{e(W)===0?l(P):l(x,!1)})}var _=s(b,2);{var L=l=>{var y=oe();w(()=>m(y,`for "${e(h)??""}" in "${e($)??""}"`)),f(l,y)},U=(l,y)=>{{var X=j=>{var M=oe();w(()=>m(M,`for "${e(h)??""}"`)),f(j,M)},re=(j,M)=>{{var F=K=>{var ee=oe();w(()=>m(ee,`in "${e($)??""}"`)),f(K,ee)};N(j,K=>{e($)&&K(F)},M)}};N(l,j=>{e(h)?j(X):j(re,!1)},y)}};N(_,l=>{e(h)&&e($)?l(L):l(U,!1)})}t(v),t(d);var D=s(d,2);D.__click=[et,h,$,Q,k];var R=r(D,!0);t(D),t(i),w(l=>m(R,l),[()=>C()("ui.clearAllFilters")]),f(n,i)};N(ht,n=>{e(_e)&&n(yt)})}t(Y),t(I);var ke=s(I,2),He=r(ke);{var wt=n=>{var i=dr(),d=r(i),v=r(d);Ze(v,{class:"mx-auto h-12 w-12 text-muted-foreground/50"});var b=s(v,2),P=r(b,!0);t(b);var x=s(b,2),_=r(x),L=s(_);L.__click=[et,h,$,Q,k];var U=r(L,!0);t(L),t(x),t(d),t(i),w((D,R,l)=>{m(P,D),m(_,`${R??""}  `),m(U,l)},[()=>C()("ui.noPostsFound"),()=>C()("ui.noPostsFoundDesc"),()=>C()("ui.browseAllPosts")]),f(n,i)},kt=n=>{var i=mr();me(i,21,()=>e(lt),d=>d.slug,(d,v)=>{var b=vr(),P=r(b),x=r(P),_=r(x),L=s(r(_),2),U=s(r(L),2),D=r(U,!0);t(U),t(L),t(_),t(x);var R=s(x,2),l=s(r(R),2),y=r(l,!0);t(l);var X=s(l,2);{var re=G=>{var H=cr(),ae=r(H,!0);t(H),w(Le=>m(ae,Le),[()=>C()("ui.unpublished")]),f(G,H)};N(X,G=>{E().isLoggedIn&&!e(v).published&&G(re)})}t(R);var j=s(R,2),M=r(j,!0);t(j);var F=s(j,2),K=r(F),ee=s(K);Ye(ee,{class:"ml-1 h-4 w-4 stroke-current"}),t(F),t(P);var qe=s(P,2),ve=r(qe),Ct=r(ve,!0);t(ve);var zt=s(ve,2);{var At=G=>{var H=ur(),ae=r(H,!0);t(H),w(Le=>m(ae,Le),[()=>C()("ui.unpublished")]),f(G,H)};N(zt,G=>{E().isLoggedIn&&!e(v).published&&G(At)})}t(qe),t(b),w((G,H,ae)=>{ie(L,"href",`${tt}/blogs/${e(v).slug}`),m(D,e(v).title),ie(l,"datetime",e(v).date),m(y,G),m(M,e(v).description),m(K,`${H??""} `),ie(ve,"datetime",e(v).date),m(Ct,ae)},[()=>We(e(v).date),()=>C()("ui.readBlog"),()=>We(e(v).date)]),f(d,b)}),t(i),f(n,i)};N(He,n=>{e(W)===0&&e(_e)?n(wt):n(kt,!1)})}var $t=s(He,2);{var Pt=n=>{var i=br(),d=r(i);d.__click=[fr,xe,T];var v=r(d);qt(v,{class:"h-4 w-4 mr-0 sm:mr-1"});var b=s(v,2),P=r(b,!0);t(b),t(d);var x=s(d,2);me(x,21,()=>e(ct),Je,(R,l)=>{var y=fe(),X=ce(y);{var re=M=>{var F=pr();f(M,F)},j=M=>{var F=gr();F.__click=[_r,xe,l];var K=r(F,!0);t(F),w(ee=>{de(F,1,ee),m(K,e(l))},[()=>le(te("inline-flex items-center justify-center w-10 h-10 text-sm font-medium rounded-md transition-colors cursor-pointer",e(l)===e(T)?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"))]),f(M,F)};N(X,M=>{e(l)==="..."?M(re):M(j,!1)})}f(R,y)}),t(x);var _=s(x,2);_.__click=[xr,xe,T];var L=r(_),U=r(L,!0);t(L);var D=s(L,2);Ye(D,{class:"h-4 w-4 ml-0 sm:ml-1"}),t(_),t(i),w((R,l,y,X)=>{de(d,1,R),d.disabled=e(T)===1,m(P,l),de(_,1,y),_.disabled=e(T)===e(O),m(U,X)},[()=>le(te("inline-flex items-center px-2 sm:px-3 py-2 text-sm font-medium rounded-md transition-colors cursor-pointer",e(T)===1?"text-muted-foreground cursor-not-allowed":"text-foreground hover:bg-muted")),()=>C()("ui.previous"),()=>le(te("inline-flex items-center px-2 sm:px-3 py-2 text-sm font-medium rounded-md transition-colors cursor-pointer",e(T)===e(O)?"text-muted-foreground cursor-not-allowed":"text-foreground hover:bg-muted")),()=>C()("ui.next")]),f(n,i)};N($t,n=>{e(O)>1&&e(W)>0&&n(Pt)})}t(ke);var Ke=s(ke,2),$e=r(Ke),Qe=r($e);Bt(Qe,{size:28});var Lt=s(Qe);t($e);var Pe=s($e,2),St=r(Pe,!0);t(Pe);var Xe=s(Pe,2);me(Xe,21,()=>e(st),n=>n.slug,(n,i)=>{Vt(n,{get book(){return e(i)},titleAs:"h3"})}),t(Xe),t(Ke),w((n,i)=>{ie(Z,"placeholder",n),m(pt,i),m(Lt,` ${B().blogs.notesHeadline??""}`),m(St,B().blogs.notesIntro)},[()=>C()("ui.searchPlaceholder"),()=>e($)||C()("ui.allCategories")]),Rt(Z,()=>e(h),n=>z(h,n)),f(a,g)},$$slots:{default:!0}}),Nt(),q()}Et(["input","keydown","click"]);export{Rr as component,Or as universal};
