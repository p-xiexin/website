import{b as h}from"../chunks/BBXYqB7x.js";import{e as b}from"../chunks/DNSHY1Ls.js";import{n as w}from"../chunks/2eRzDqfg.js";import{p as k,c as y,i as P,a as $,t as x}from"../chunks/Dyjh15gz.js";import{a5 as C,f as M,a9 as j}from"../chunks/BbhSZkRh.js";import{M as L}from"../chunks/RJrVYBso.js";import{C as O}from"../chunks/HZgCJ9CN.js";async function S({params:r,fetch:a}){try{const e=`${h}/notes/${r.slug}/index.md`,s=await a(e);if(!s.ok)throw new Error(`Could not fetch ${r.slug}`);const n=await s.text(),c=w.find(m=>m.slug===r.slug);return{content:n,meta:c}}catch(e){throw console.error("加载文章时出错:",e),b(404,`找不到 ${r.slug} 文章`)}}const B=Object.freeze(Object.defineProperty({__proto__:null,load:S},Symbol.toStringTag,{value:"Module"}));var z=x("<p>文章加载失败</p>");function D(r,a){var u,g,d;C(a,!0);let e=k(a,"data",7);function s(t,o){const i=`${h}/notes/${o}/res`;return t=t.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(v,l,p)=>{const f=p.replace(/^\.?\/?res\//,"");return`![${l}](${i}/${f})`}),t=t.replace(/<img\s+([^>]*?)src=["']\.?\/?res\/([^"']+)["']([^>]*?)>/g,(v,l,p,f)=>`<img ${l}src="${i}/${p}"${f}>`),t}(u=e())!=null&&u.content&&((d=(g=e())==null?void 0:g.meta)!=null&&d.name)&&(e().content=s(e().content,e().meta.name));var n=y(),c=M(n);{var m=t=>{O(t,{className:"mt-16 lg:mt-32",children:(o,i)=>{L(o,{get content(){return e().content}})},$$slots:{default:!0}})},_=t=>{var o=z();$(t,o)};P(c,t=>{e().meta?t(m):t(_,!1)})}$(r,n),j()}export{D as component,B as universal};
