import{b as Ke}from"../chunks/BjHhhfse.js";import{m as xt,l as $e,s as Pe,c as se,a as c,o as ht,q as bt,t as M,i as S,u as yt,f as O}from"../chunks/C6KxToXk.js";import{aq as wt,h as kt,v as $t,u as Pt,f as X,a5 as St,z as Fe,a9 as Ct,a7 as A,g as e,ap as E,an as de,e as s,r as a,s as i,t as z,n as zt}from"../chunks/3iu8ekn-.js";import{s as C}from"../chunks/Cmq34bxz.js";import{e as ce,i as He}from"../chunks/BN5ipOA1.js";import{a as Se,r as Lt,e as ee,f as re,d as ae,s as be}from"../chunks/CXJeWBdf.js";import{f as Qe}from"../chunks/CuH92FPP.js";import{c as Nt,d as jt}from"../chunks/egoENBJT.js";import{S as At}from"../chunks/C4ruYd7E.js";import{N as Et,C as Be,a as Mt}from"../chunks/DgCnVvo8.js";import{C as Vt,X as It,p as Rt}from"../chunks/1rrbCnt_.js";import{g as ke}from"../chunks/CQlOLY8_.js";import{I as Ce}from"../chunks/CjXrEAf1.js";import{n as Ot}from"../chunks/I9081wsh.js";function Tt(t,r,v=r){var H=wt();xt(t,"input",m=>{var x=m?t.defaultValue:t.value;if(x=ye(t)?we(x):x,v(x),H&&x!==(x=r())){var n=t.selectionStart,L=t.selectionEnd;t.value=x??"",L!==null&&(t.selectionStart=n,t.selectionEnd=Math.min(L,t.value.length))}}),(kt&&t.defaultValue!==t.value||$t(r)==null&&t.value)&&v(ye(t)?we(t.value):t.value),Pt(()=>{var m=r();ye(t)&&m===we(t.value)||t.type==="date"&&!m&&!t.value||m!==t.value&&(t.value=m??"")})}function ye(t){var r=t.type;return r==="number"||r==="range"}function we(t){return t===""?null:+t}function Ut(t,r){const v=$e(r,["children","$$slots","$$events","$$legacy"]);Ce(t,Pe({name:"chevron-left"},()=>v,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(m,x)=>{var n=se(),L=X(n);Se(L,r,"default",{}),c(m,n)},$$slots:{default:!0}}))}function qt(t,r){const v=$e(r,["children","$$slots","$$events","$$legacy"]);Ce(t,Pe({name:"funnel"},()=>v,{iconNode:[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]],children:(m,x)=>{var n=se(),L=X(n);Se(L,r,"default",{}),c(m,n)},$$slots:{default:!0}}))}function De(t,r){const v=$e(r,["children","$$slots","$$events","$$legacy"]);Ce(t,Pe({name:"search"},()=>v,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]],children:(m,x)=>{var n=se(),L=X(n);Se(L,r,"default",{}),c(m,n)},$$slots:{default:!0}}))}async function Ft({fetch:t}){return{posts:await(await t(`${Ke}/posts/postLists.json`)).json()}}const $r=Object.freeze(Object.defineProperty({__proto__:null,load:Ft},Symbol.toStringTag,{value:"Module"}));function Ge(t,r,v,H,m){A(r,""),A(v,""),A(H,!1);const x=new URL(m().url);x.searchParams.delete("search"),x.searchParams.delete("category"),x.searchParams.delete("page"),ke(x.toString())}function Ht(t,r,v){A(r,""),v()}function Qt(t,r){const v=t.target;A(r,v.value,!0)}function Bt(t,r){t.key==="Enter"&&r()}var Dt=M('<button class="absolute inset-y-0 right-0 pr-3 flex items-center" title="Clear search"><!></button>'),Gt=(t,r)=>A(r,!e(r)),Kt=(t,r)=>r(""),Xt=(t,r,v)=>r(String(e(v))),Jt=M("<button> </button>"),Wt=M('<div class="absolute right-0 mt-2 w-full sm:w-48 bg-background border border-input rounded-md shadow-lg z-50 max-h-64 overflow-y-auto"><button>All Categories</button> <!></div>'),Yt=M('<div class="flex items-center justify-between mt-4 text-sm text-muted-foreground"><div class="flex items-center gap-4"><div><!> <!></div></div> <button class="text-primary hover:underline">Clear all filters</button></div>'),Zt=M('<div class="text-center py-12"><div class="mx-auto max-w-md"><!> <h3 class="mt-2 text-sm font-semibold text-foreground">No posts found</h3> <p class="mt-1 text-sm text-muted-foreground">Try adjusting your search terms or filters, or <button class="text-primary hover:underline">browse all posts</button></p></div></div>'),er=M('<article class="md:grid md:grid-cols-4 md:items-baseline"><div class="group relative flex flex-col items-start md:col-span-3"><h2 class="text-base font-semibold tracking-tight"><div><div class="absolute -inset-x-4 -inset-y-6 z-0 scale-95 transition group-hover:scale-100 sm:-inset-x-6 sm:rounded-2xl group-hover:bg-muted/50"></div> <a><span class="absolute -inset-x-4 -inset-y-6 z-20 sm:-inset-x-6 sm:rounded-2xl"></span> <span class="relative z-10"> </span></a></div></h2> <time class="relative z-10 order-first mb-2 flex items-center text-sm text-muted-foreground pl-3.5 md:hidden"><span class="absolute inset-y-0 left-0 flex items-center" aria-hidden="true"><span class="h-4 w-0.5 rounded-full bg-muted-foreground/30"></span></span> </time> <p class="relative z-10 mt-2 text-sm text-muted-foreground"> </p> <div aria-hidden="true" class="relative z-10 mt-3 flex items-center text-sm font-medium text-primary">Read blog <!></div></div> <time class="relative z-10 order-first text-sm text-muted-foreground mt-1 hidden md:block"> </time></article>'),tr=M('<div class="flex max-w-3xl flex-col space-y-8 md:space-y-16"></div>'),rr=(t,r,v)=>r(e(v)-1),ar=M('<span class="px-3 py-2 text-sm text-muted-foreground">...</span>'),sr=(t,r,v)=>r(Number(e(v))),or=M("<button> </button>"),nr=(t,r,v)=>r(e(v)+1),ir=M('<div class="text-center mt-4 text-sm text-muted-foreground"> <!></div>'),lr=M('<nav class="flex items-center justify-center space-x-2 mt-12 pt-8 border-t border-muted"><button><!> Previous</button> <div class="flex items-center space-x-1"></div> <button>Next <!></button></nav> <!>',1),dr=M('<div class="mb-8"><div class="flex flex-col sm:flex-row gap-4 max-w-4xl mx-auto"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><!></div> <input type="text" placeholder="Search posts..." class="block w-full pl-10 pr-10 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground placeholder:text-muted-foreground"> <!></div> <div class="relative category-dropdown"><button class="flex items-center justify-between w-full sm:w-48 px-4 py-2 border border-input rounded-md bg-background text-foreground hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary"><div class="flex items-center"><!> <span class="truncate"> </span></div> <!></button> <!></div></div> <!></div> <div class="md:border-l md:border-zinc-100 md:pl-6 md:dark:border-zinc-700/40"><div class="md:border-l md:border-zinc-100 md:pl-6 md:dark:border-zinc-700/40"><!> <!></div> <div class="mx-auto flex flex-col max-w-xl gap-6 lg:max-w-none my-4 py-8 border-t border-muted"><h2 class="flex flex-row items-center justify-start gap-2 text-xl font-semibold tracking-tight md:text-3xl opacity-80 mb-4"><!> </h2> <ul role="list" class="grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 md:grid-cols-3 auto-rows-[1fr]"></ul></div></div>',1);function Pr(t,r){St(r,!0);const[v,H]=bt(),m=()=>yt(Rt,"$page",v),x=5;let n=de(""),L=de(!1),h=de(""),D=de(!1);const R=E(()=>parseInt(m().url.searchParams.get("page")||"1",10)),ze=E(()=>m().url.searchParams.get("search")||""),Le=E(()=>m().url.searchParams.get("category")||""),Xe=E(()=>(()=>{const o=new Set;return r.data.posts.forEach(y=>{y.categories&&y.categories.forEach(f=>o.add(f))}),Array.from(o).sort()})());Fe(()=>{A(n,e(ze),!0),A(h,e(Le),!0),A(L,e(ze).length>0||e(Le).length>0,!0)});const Ne=E(()=>(()=>{let o=r.data.posts;if(e(h)&&(o=o.filter(y=>y.categories&&y.categories.includes(e(h)))),e(n).trim()){const y=e(n).toLowerCase().trim();o=o.filter(f=>f.title.toLowerCase().includes(y)||f.description.toLowerCase().includes(y)||f.author.toLowerCase().includes(y)||f.categories&&f.categories.some(N=>N.toLowerCase().includes(y)))}return o})()),T=E(()=>e(Ne).length),V=E(()=>Math.ceil(e(T)/x)),ve=E(()=>(e(R)-1)*x),je=E(()=>e(ve)+x),Je=E(()=>e(Ne).slice(e(ve),e(je)));function ue(){const o=new URL(m().url);e(n).trim()?o.searchParams.set("search",e(n).trim()):o.searchParams.delete("search"),e(h)?o.searchParams.set("category",e(h)):o.searchParams.delete("category"),o.searchParams.delete("page"),ke(o.toString())}function We(){ue()}function Ae(o){A(h,o,!0),A(D,!1),ue()}function me(o){const y=new URL(m().url);o===1?y.searchParams.delete("page"):y.searchParams.set("page",o.toString()),ke(y.toString())}const Ye=E(()=>(()=>{const o=[];if(e(V)<=5)for(let f=1;f<=e(V);f++)o.push(f);else{let f=Math.max(1,e(R)-2),N=Math.min(e(V),e(R)+2);N-f+1<5&&(f===1?N=Math.min(e(V),f+5-1):N===e(V)&&(f=Math.max(1,N-5+1))),f>1&&(o.push(1),f>2&&o.push("..."));for(let G=f;G<=N;G++)o.push(G);N<e(V)&&(N<e(V)-1&&o.push("..."),o.push(e(V)))}return o})());function Ee(o){o.target.closest(".category-dropdown")||A(D,!1)}Fe(()=>(document.addEventListener("click",Ee),()=>{document.removeEventListener("click",Ee)})),At(t,{title:jt,intro:Nt,children:(o,y)=>{var f=dr(),N=X(f),G=s(N),fe=s(G),_e=s(fe),Ze=s(_e);De(Ze,{class:"h-5 w-5 text-muted-foreground"}),a(_e);var te=i(_e,2);Lt(te),te.__input=[Qt,n],te.__keydown=[Bt,We];var et=i(te,2);{var tt=d=>{var u=Dt();u.__click=[Ht,n,ue];var p=s(u);It(p,{class:"h-5 w-5 text-muted-foreground hover:text-foreground transition-colors"}),a(u),c(d,u)};S(et,d=>{e(n)&&d(tt)})}a(fe);var Me=i(fe,2),oe=s(Me);oe.__click=[Gt,D];var ge=s(oe),Ve=s(ge);qt(Ve,{class:"h-4 w-4 mr-2"});var Ie=i(Ve,2),rt=s(Ie,!0);a(Ie),a(ge);var at=i(ge,2);const st=E(()=>ee("h-4 w-4 transition-transform",e(D)&&"rotate-180"));Vt(at,{get class(){return e(st)}}),a(oe);var ot=i(oe,2);{var nt=d=>{var u=Wt(),p=s(u);p.__click=[Kt,Ae];var _=i(p,2);ce(_,17,()=>e(Xe),He,($,P)=>{var w=Jt();w.__click=[Xt,Ae,P];var Q=s(w,!0);a(w),z(U=>{ae(w,1,U),C(Q,e(P))},[()=>re(ee("block w-full px-4 py-2 text-left hover:bg-muted transition-colors",e(h)===e(P)&&"bg-muted font-medium"))]),c($,w)}),a(u),z($=>ae(p,1,$),[()=>re(ee("block w-full px-4 py-2 text-left hover:bg-muted transition-colors",!e(h)&&"bg-muted font-medium"))]),c(d,u)};S(ot,d=>{e(D)&&d(nt)})}a(Me),a(G);var it=i(G,2);{var lt=d=>{var u=Yt(),p=s(u),_=s(p),$=s(_);{var P=l=>{var k=O("No posts found");c(l,k)},w=l=>{var k=O();z(()=>C(k,`Found ${e(T)??""} post${e(T)===1?"":"s"}`)),c(l,k)};S($,l=>{e(T)===0?l(P):l(w,!1)})}var Q=i($,2);{var U=l=>{var k=O();z(()=>C(k,`for "${e(n)??""}" in "${e(h)??""}"`)),c(l,k)},J=(l,k)=>{{var q=j=>{var g=O();z(()=>C(g,`for "${e(n)??""}"`)),c(j,g)},K=(j,g)=>{{var b=F=>{var B=O();z(()=>C(B,`in "${e(h)??""}"`)),c(F,B)};S(j,F=>{e(h)&&F(b)},g)}};S(l,j=>{e(n)?j(q):j(K,!1)},k)}};S(Q,l=>{e(n)&&e(h)?l(U):l(J,!1)})}a(_),a(p);var I=i(p,2);I.__click=[Ge,n,h,D,m],a(u),c(d,u)};S(it,d=>{e(L)&&d(lt)})}a(N);var Re=i(N,2),pe=s(Re),Oe=s(pe);{var dt=d=>{var u=Zt(),p=s(u),_=s(p);De(_,{class:"mx-auto h-12 w-12 text-muted-foreground/50"});var $=i(_,4),P=i(s($));P.__click=[Ge,n,h,D,m],a($),a(p),a(u),c(d,u)},ct=d=>{var u=tr();ce(u,21,()=>e(Je),p=>p.slug,(p,_)=>{var $=er(),P=s($),w=s(P),Q=s(w),U=i(s(Q),2),J=i(s(U),2),I=s(J,!0);a(J),a(U),a(Q),a(w);var l=i(w,2),k=i(s(l));a(l);var q=i(l,2),K=s(q,!0);a(q);var j=i(q,2),g=i(s(j));Be(g,{class:"ml-1 h-4 w-4 stroke-current"}),a(j),a(P);var b=i(P,2),F=s(b,!0);a(b),a($),z((B,he)=>{be(U,"href",`${Ke}/blogs/${e(_).slug}`),C(I,e(_).title),be(l,"datetime",e(_).date),C(k,` ${B??""}`),C(K,e(_).description),be(b,"datetime",e(_).date),C(F,he)},[()=>Qe(e(_).date),()=>Qe(e(_).date)]),c(p,$)}),a(u),c(d,u)};S(Oe,d=>{e(T)===0&&e(L)?d(dt):d(ct,!1)})}var vt=i(Oe,2);{var ut=d=>{var u=lr(),p=X(u),_=s(p);_.__click=[rr,me,R];var $=s(_);Ut($,{class:"h-4 w-4 mr-1"}),zt(),a(_);var P=i(_,2);ce(P,21,()=>e(Ye),He,(I,l)=>{var k=se(),q=X(k);{var K=g=>{var b=ar();c(g,b)},j=g=>{var b=or();b.__click=[sr,me,l];var F=s(b,!0);a(b),z(B=>{ae(b,1,B),C(F,e(l))},[()=>re(ee("inline-flex items-center justify-center w-10 h-10 text-sm font-medium rounded-md transition-colors",e(l)===e(R)?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"))]),c(g,b)};S(q,g=>{e(l)==="..."?g(K):g(j,!1)})}c(I,k)}),a(P);var w=i(P,2);w.__click=[nr,me,R];var Q=i(s(w));Be(Q,{class:"h-4 w-4 ml-1"}),a(w),a(p);var U=i(p,2);{var J=I=>{var l=ir(),k=s(l),q=i(k);{var K=g=>{var b=se(),F=X(b);{var B=W=>{var ne=O();z(()=>C(ne,`posts matching "${e(n)??""}" in "${e(h)??""}"`)),c(W,ne)},he=(W,ne)=>{{var ft=Y=>{var ie=O();z(()=>C(ie,`posts matching "${e(n)??""}"`)),c(Y,ie)},_t=(Y,ie)=>{{var gt=Z=>{var le=O();z(()=>C(le,`posts in "${e(h)??""}"`)),c(Z,le)},pt=Z=>{var le=O("filtered posts");c(Z,le)};S(Y,Z=>{e(h)?Z(gt):Z(pt,!1)},ie)}};S(W,Y=>{e(n)?Y(ft):Y(_t,!1)},ne)}};S(F,W=>{e(n)&&e(h)?W(B):W(he,!1)})}c(g,b)},j=g=>{var b=O("posts");c(g,b)};S(q,g=>{e(L)?g(K):g(j,!1)})}a(l),z(g=>C(k,`Showing ${e(ve)+1} to ${g??""} of ${e(T)??""} `),[()=>Math.min(e(je),e(T))]),c(I,l)};S(U,I=>{e(T)>0&&I(J)})}z((I,l)=>{ae(_,1,I),_.disabled=e(R)===1,ae(w,1,l),w.disabled=e(R)===e(V)},[()=>re(ee("inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",e(R)===1?"text-muted-foreground cursor-not-allowed":"text-foreground hover:bg-muted")),()=>re(ee("inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",e(R)===e(V)?"text-muted-foreground cursor-not-allowed":"text-foreground hover:bg-muted"))]),c(d,u)};S(vt,d=>{e(V)>1&&e(T)>0&&d(ut)})}a(pe);var Te=i(pe,2),xe=s(Te),Ue=s(xe);Et(Ue,{size:28});var mt=i(Ue);mt.nodeValue=" NoteBooks",a(xe);var qe=i(xe,2);ce(qe,21,()=>Ot,d=>d.slug,(d,u)=>{Mt(d,{get book(){return e(u)},titleAs:"h3"})}),a(qe),a(Te),a(Re),z(()=>C(rt,e(h)||"All Categories")),Tt(te,()=>e(n),d=>A(n,d)),c(o,f)},$$slots:{default:!0}}),Ct(),H()}ht(["input","keydown","click"]);export{Pr as component,$r as universal};
