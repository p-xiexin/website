import{b as u}from"../chunks/DpEYm46I.js";import{e as v}from"../chunks/DNSHY1Ls.js";import{n as b}from"../chunks/2eRzDqfg.js";import{p as w,c as k,i as y,a as f,t as x}from"../chunks/qAkLHmWQ.js";import{a4 as C,f as M,a8 as P}from"../chunks/Br57_vlp.js";import{M as j}from"../chunks/B_XXYqDZ.js";import{C as L}from"../chunks/ova7fwM7.js";async function O({params:o,fetch:n}){try{const t=`${u}/notes/${o.slug}/index.md`,a=await n(t);if(!a.ok)throw new Error(`Could not fetch ${o.slug}`);const s=await a.text(),c=b.find(m=>m.slug===o.slug);return{content:s,meta:c}}catch(t){throw console.error("加载文章时出错:",t),v(404,`找不到 ${o.slug} 文章`)}}const A=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"}));var S=x("<p>文章加载失败</p>");function B(o,n){var i,l,p;C(n,!0);let t=w(n,"data",7);function a(e,r){return e.replace(/!\[([^\]]*)\]\((\.?\/?res\/[^)]+)\)/g,(g,_,h)=>{const $=h.replace(/^\.?\/?res\//,"");return`![${_}](${u}/notes/${r}/res/${$})`})}(i=t())!=null&&i.content&&((p=(l=t())==null?void 0:l.meta)!=null&&p.name)&&(t().content=a(t().content,t().meta.name));var s=k(),c=M(s);{var m=e=>{L(e,{className:"mt-16 lg:mt-32",children:(r,g)=>{j(r,{get content(){return t().content}})},$$slots:{default:!0}})},d=e=>{var r=S();f(e,r)};y(c,e=>{t().meta?e(m):e(d,!1)})}f(o,s),P()}export{B as component,A as universal};
